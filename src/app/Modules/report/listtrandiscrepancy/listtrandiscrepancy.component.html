<div class="container bg-white py-4">
  <div class="row justify-content-center">
    <div class="col-lg-12">
      <div class="table-responsive mt-2 mb-2">
        <div class="card">
          <div class="card-body" id="print-section">
            <div class="invoice-title mb-4">
              <h2 class="text-center text-muted">History of Discrepancy Within The Day</h2>
              <div class="text-muted mt-3">
                <p>Date of Discrepancy Transaction: <b>{{ dateincome }}</b></p>
                <p>Cashier in Charge: <b>{{ staff }}</b></p>
              </div>
            </div>
            <hr class="my-4">

            <!-- Section: Initial Amount -->
            <div class="mb-4">
              <h5 class="text-muted">Initial Amount</h5>
              <div class="table-responsive">
                <table class="table table-bordered table-striped">
                  <thead class="table-light">
                    <tr>
                      <th></th>
                      <th>Cashier in Charge</th>
                      <th></th>
                      <th class="text-end">Amount Initial</th>
                      <th class="col-md-1 text-center">Over All Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (i of initial; track i.initial) {
                    <tr>
                      <td></td>
                      <td>{{ i?.adminNames}}</td>
                      <td></td>
                      <td class="text-end">{{ i?.AmountInitial | currency: ' ':'symbol' }}</td>
                      <td></td>
                    </tr>
                    }
                  </tbody>
                </table>
              </div>
              <div class="text-end mt-2">
                <h5 class="fw-bold">{{ totalinitial | currency: ' ':'symbol' }}</h5>
              </div>
            </div>

            <hr class="my-4">

            <!-- Section: Payment Transaction -->
            <div class="mb-4">
              <h5 class="text-muted">Payment Transaction</h5>
              <div class="table-responsive">
                <table class="table table-bordered table-striped">
                  <thead class="table-light">
                    <tr>
                      <th></th>
                      <th>Tracking Number</th>
                      <th>Mode of Payment</th>
                      <th class="text-end">Amount Payments</th>
                      <th class="col-md-1"></th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (p of payments; track p.expenses) {
                    <tr>
                      <td></td>
                      <td>{{ p?.Tracking_number }}</td>
                      <td>{{ p?.Mode_of_Payment }}</td>
                      <td class="text-end">{{ p?.AmountPayments | currency: ' ':'symbol' }}</td>
                      <td class="col-md-1"></td>
                    </tr>
                    }
                  </tbody>
                </table>
              </div>
              <div class="text-end mt-2">
                <h5 class="fw-bold">{{ totalpayments | currency: ' ':'symbol' }}</h5>
              </div>
            </div>

            <hr class="my-4">

            <!-- Section: Expenses Transaction -->
            <div class="mb-4">
              <h5 class="text-muted">Expenses Transaction</h5>
              <div class="table-responsive">
                <table class="table table-bordered table-striped">
                  <thead class="table-light">
                    <tr>
                      <th></th>
                      <th>Cashier in Charge</th>
                      <th>Description Reason</th>
                      <th class="text-end">Amount Expenses</th>
                      <th class="col-md-1"></th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (e of expenses; track e.expenses) {
                    <tr>
                      <td></td>
                      <td>{{ e?.adminNames }}</td>
                      <td>{{ e?.Desc_reason }}</td>
                      <td class="text-end">{{ e?.AmountExpenses | currency: ' ':'symbol' }}</td>
                      <td class="col-md-1"></td>
                    </tr>
                    }
                  </tbody>
                </table>
              </div>
              <div class="text-end mt-2">
                <h5 class="fw-bold">{{ totalexpenses | currency: ' ':'symbol' }}</h5>
              </div>
            </div>

            <hr class="my-4">

            <!-- Section: Remittance -->
            <div class="mb-4">
              <h5 class="text-muted">Remittance</h5>
              <div class="table-responsive">
                <table class="table table-bordered table-striped">
                  <thead class="table-light">
                    <tr>
                      <th></th>
                      <th>Cashier in Charge</th>
                      <th></th>
                      <th class="text-end">Amount Remittance</th>
                      <th class="col-md-1"></th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (r of remit; track r.remit) {
                    <tr>
                      <td></td>
                      <td>{{r.adminNames}}</td>
                      <td></td>
                      <td class="text-end">{{ r?.AmountRemittance | currency: ' ':'symbol' }}</td>
                      <td class="col-md-1"></td>
                    </tr>
                    }
                  </tbody>
                </table>
              </div>
              <div class="text-end mt-2">
                <h5 class="fw-bold">{{ totalremit | currency: ' ':'symbol' }}</h5>
              </div>
            </div>

            <hr class="my-4">

            <!-- Section: Net Profit/Loss -->
            <div class="text-end">
              <h5>Net Profit/<span class="text-danger">Loss</span></h5>
              <h5 class="fw-bold"
                  [ngClass]="overalltotal > 0 ? 'text-success' : 'text-danger'">
                  {{ overalltotal < 0 ? (overalltotal * -1) : overalltotal | currency: ' ':'symbol' }}
              </h5>
            </div>

            <!-- Footer -->
            <div class="d-print-none mt-4 text-end">
              <a class="btn btn-primary" [routerLink]="['/main/reportpage/reportmain/reportview/disrepancy']">Back</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
